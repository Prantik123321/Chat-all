<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat-Box | Public Chat</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="light-theme">
    <div class="chat-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">U</div>
                    <div class="user-details">
                        <h3 id="currentUser">User</h3>
                        <p><span class="status-dot"></span> Online</p>
                    </div>
                </div>
                <button id="sidebarToggle" class="theme-btn">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            
            <div class="room-info">
                <h3><i class="fas fa-hashtag"></i> <span id="roomName">Public Chat</span></h3>
                <div class="room-stats">
                    <div class="stat">
                        <i class="fas fa-user-friends"></i>
                        <span><span id="onlineCount">0</span> online</span>
                    </div>
                    <div class="stat">
                        <i class="fas fa-globe"></i>
                        <span>Public Room</span>
                    </div>
                </div>
            </div>
            
            <div class="online-users">
                <h3><i class="fas fa-users"></i> Online Users</h3>
                <div class="users-list" id="onlineUsersList">
                    <!-- Users will be added here -->
                </div>
            </div>
            
            <div class="sidebar-footer">
                <button id="themeToggle" class="theme-btn" style="margin: 10px;">
                    <i class="fas fa-moon"></i> Theme
                </button>
                <button id="leaveRoom" class="join-btn" style="background: #f72585; margin: 10px;">
                    <i class="fas fa-sign-out-alt"></i> Leave Chat
                </button>
            </div>
        </aside>
        
        <!-- Main Chat Area -->
        <main class="chat-main">
            <header class="chat-header">
                <div class="chat-header-left">
                    <div class="room-title">
                        <h2>ðŸ’¬ Public Chat Room</h2>
                        <div class="typing-indicator" id="typingIndicator"></div>
                    </div>
                </div>
                <div class="chat-header-right">
                    <button id="themeToggle2" class="theme-btn">
                        <i class="fas fa-moon"></i>
                    </button>
                </div>
            </header>
            
            <div class="messages-container" id="messagesContainer">
                <!-- Messages will appear here -->
            </div>
            
            <div class="chat-input-container">
                <div class="input-wrapper">
                    <div class="input-actions">
                        <button id="emojiBtn" class="action-btn">
                            <i class="far fa-smile"></i>
                        </button>
                        <button id="photoBtn" class="action-btn">
                            <i class="far fa-image"></i>
                        </button>
                        <button id="videoBtn" class="action-btn">
                            <i class="fas fa-video"></i>
                        </button>
                        <input type="file" id="fileInput" accept="image/*,video/*" style="display: none;">
                    </div>
                    
                    <textarea 
                        id="messageInput" 
                        class="message-input" 
                        placeholder="Type a message..."
                        rows="1"
                    ></textarea>
                    
                    <button id="sendBtn" class="send-btn" disabled>
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
                
                <div class="emoji-picker-container" id="emojiPicker">
                    <!-- Emojis will be loaded here -->
                </div>
                
                <div class="file-preview-container" id="filePreview">
                    <div class="preview-header">
                        <h4>Send File</h4>
                        <button class="close-preview" id="closePreview">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="preview-content">
                        <!-- File preview will appear here -->
                    </div>
                    <div class="file-name">file.jpg</div>
                    <button class="send-file-btn">
                        Send File
                    </button>
                </div>
            </div>
        </main>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.min.js"></script>
    <script src="theme.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            initTheme();
            
            document.getElementById('closePreview').addEventListener('click', function() {
                document.querySelector('.file-preview-container').classList.remove('show');
                document.getElementById('fileInput').value = '';
            });
            
            document.getElementById('themeToggle2').addEventListener('click', toggleTheme);
        });
    </script>
</body>
</html>